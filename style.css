/*
    style.css

    This file contains the CSS rules to style the Micro Bunker website.
    It is linked in the <head> section of index.html and other pages.

    CSS selectors target HTML elements (body, h1, p), classes (.hero, .content-section),
    and IDs (#menu-placeholder) to apply styles (colors, fonts, layout, etc.).

    We are now using a CSS variable (--page-background-image) defined on the
    body element in each HTML file to specify the background image URL.
    The styling properties (size, position, etc.) are defined here in style.css.

    Added styles for dropdown menus.
*/

/* === 1. Basic Reset and Box Sizing === */
*, *::before, *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

/* === 2. Body Styles (Background Color, Image using Variable, Base Font) === */
body {
    font-family: sans-serif;
    line-height: 1.6;
    color: #333;
    background-color: #333; /* Dark gray background color underneath everything */
    background-image: var(--page-background-image, none); /* Use CSS variable for image */
    background-repeat: no-repeat;
    background-size: 100% auto; /* Span left-right, maintain aspect ratio */
    background-position: center top;
    background-attachment: fixed; /* Or 'scroll' */
}

/* === 3. Header Layout (Title and Menu Positioning) === */
header {
    padding: 10px 20px;
    background-color: rgba(0, 0, 0, 0.7);
    color: #fff;
    position: relative;
    z-index: 10;
}

.header-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    max-width: 1200px;
    margin: 0 auto;
}

header h1 {
    font-size: 2em;
    margin: 0;
    color: #fff;
}

/* === 4. Navigation Menu Styles (Including Dropdowns) === */
/*
    Styles for the navigation menu loaded into #menu-placeholder.
    These styles apply to the main horizontal menu and the dropdowns.
*/
#menu-placeholder nav ul {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex; /* Makes main menu items horizontal */
    justify-content: center; /* Center main menu items horizontally */
    align-items: center;
    flex-wrap: wrap;
}

/* Style for main menu list items */
#menu-placeholder nav li {
    margin-left: 20px; /* Space between main menu items */
    position: relative; /* Needed for positioning the dropdown relative to the list item */
    /* display: inline-block; /* Flex items don't strictly need this */
}

/* Style for main menu links */
#menu-placeholder nav a {
    text-decoration: none;
    color: #fff;
    font-weight: bold;
    padding: 5px 10px;
    display: inline-block;
    transition: color 0.3s ease;
}

#menu-placeholder nav a:hover {
    color: #007bff;
}

/* --- Dropdown Menu Styles --- */

/* Hide the dropdown menus by default */
#menu-placeholder nav ul li .dropdown {
    display: none; /* Hide the nested ul */
    position: absolute; /* Position relative to the parent li */
    top: 100%; /* Place the top edge of the dropdown right below the parent li */
    left: 0; /* Align the left edge of the dropdown with the parent li */
    background-color: rgba(0, 0, 0, 0.8); /* Semi-transparent dark background for dropdown */
    min-width: 180px; /* Minimum width for the dropdown */
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2); /* Add a subtle shadow */
    z-index: 1; /* Ensure dropdown appears above other content */
    padding: 10px 0; /* Vertical padding inside the dropdown box */
    border-radius: 0 0 8px 8px; /* Optional: Round the bottom corners */
    list-style: none; /* Remove bullets from dropdown list */
    margin: 0; /* Remove default margin */
}

/* Style for list items within the dropdown */
#menu-placeholder nav ul li .dropdown li {
    display: block; /* Make dropdown items stack vertically */
    margin: 0; /* Remove horizontal margin */
    padding: 0; /* Remove padding */
}

/* Style for links within the dropdown */
#menu-placeholder nav ul li .dropdown li a {
    color: #fff; /* Link color in dropdown */
    padding: 8px 16px; /* Padding for dropdown links */
    text-decoration: none;
    display: block; /* Make the link fill the width for easier clicking */
    font-weight: normal; /* Make dropdown links not bold */
    transition: background-color 0.3s ease, color 0.3s ease; /* Smooth transition on hover */
}

/* Style for links within the dropdown on hover */
#menu-placeholder nav ul li .dropdown li a:hover {
    background-color: rgba(255, 255, 255, 0.2); /* Subtle background highlight on hover */
    color: #007bff; /* Change text color on hover */
}

/* Show the dropdown menu when the parent list item is hovered */
#menu-placeholder nav ul li.has-dropdown:hover > .dropdown {
    display: block; /* Show the nested ul with class 'dropdown' */
}

/* Style for the <noscript> fallback menu */
/* This ensures the fallback menu also looks decent if JS is off */
/* Note: Dropdowns won't work in the <noscript> fallback without JS */
noscript nav ul {
     list-style: none;
     padding: 0;
     margin: 0;
     display: flex;
     justify-content: flex-end;
     align-items: center;
     flex-wrap: wrap;
}

noscript nav li {
    margin-left: 20px;
}

noscript nav a {
    text-decoration: none;
    color: #fff;
    font-weight: bold;
    padding: 5px 10px;
    display: inline-block;
}


/* === 5. Main Content Area Styles === */
main {
    max-width: 1200px;
    margin: 20px auto;
    padding: 0 20px;
    position: relative;
    z-index: 1;
}

main section {
    background-color: rgba(255, 255, 255, 0.9);
    padding: 20px;
    margin-bottom: 20px;
    border-radius: 8px;
}

main section h2 {
    color: #333;
    margin-bottom: 15px;
}

/* === 6. Footer Styles === */
footer {
    text-align: center;
    padding: 20px;
    font-size: 0.9em;
    color: #ccc;
    background-color: rgba(0, 0, 0, 0.7);
    position: relative;
    z-index: 1;
}


/* === 7. Responsive Adjustments (Media Queries) === */

/* --- Optimization for Phones (up to 767px) --- */
@media screen and (max-width: 767px) {
    header { padding: 10px 15px; }
    .header-container { flex-direction: column; align-items: flex-start; }
    header h1 { font-size: 1.5em; margin-bottom: 10px; }

    /* Stack main menu items vertically on phones */
    #menu-placeholder nav ul, noscript nav ul {
        flex-direction: column;
        align-items: flex-start;
        width: 100%;
    }

    #menu-placeholder nav li, noscript nav li {
        margin: 5px 0;
        margin-left: 0;
        width: 100%;
    }

    #menu-placeholder nav a, noscript nav a {
        padding: 8px 15px;
        width: 100%;
    }

    /* --- Dropdown adjustments for phones --- */
    /* Dropdowns should appear below their parent, but might need full width */
    #menu-placeholder nav ul li .dropdown {
        position: static; /* Remove absolute positioning */
        top: auto; /* Remove top positioning */
        left: auto; /* Remove left positioning */
        width: 100%; /* Make dropdown take full width */
        min-width: auto; /* Remove min-width constraint */
        background-color: rgba(0, 0, 0, 0.5); /* Slightly lighter background for nested items */
        box-shadow: none; /* Remove shadow */
        border-radius: 0; /* Remove border radius */
        padding: 0 10px; /* Add horizontal padding */
    }

    #menu-placeholder nav ul li .dropdown li a {
        padding: 8px 25px; /* Indent dropdown links */
    }

    /* Show dropdowns on phones - they will just be part of the stacked list */
    /* The :hover rule might not work well on touch screens, but display: block
       is handled by the parent li's display: block */
    #menu-placeholder nav ul li.has-dropdown > .dropdown {
         display: block; /* Always show dropdown on mobile when parent is stacked */
    }


    main { padding: 0 10px; }
    main section { padding: 15px; }
    main section h2 { font-size: 1.3em; }
    footer { padding: 15px; font-size: 0.8em; }
}

/* --- Optimization for Tablets (768px to 1023px) --- */
@media screen and (min-width: 768px) and (max-width: 1023px) {
    header { padding: 15px 25px; }
    .header-container { max-width: 960px; }
    header h1 { font-size: 1.8em; }
    #menu-placeholder nav li, noscript nav li { margin-left: 15px; }
    main { max-width: 960px; padding: 0 25px; }
    main section { padding: 20px; }
    main section h2 { font-size: 1.5em; }
    footer { max-width: 960px; margin: 20px auto 0; padding: 20px 25px; }

    /* Dropdown adjustments for tablets if needed */
    #menu-placeholder nav ul li .dropdown {
        min-width: 160px; /* Adjust dropdown width for tablets */
    }
}

/* --- Optimization for Desktops (1024px and above) --- */
@media screen and (min-width: 1024px) {
    header { padding: 20px 30px; }
    .header-container { max-width: 1200px; }
    header h1 { font-size: 2em; }
    #menu-placeholder nav li, noscript nav li { margin-left: 20px; }
    main { max-width: 1200px; padding: 0 30px; }
    main section { padding: 25px; }
    main section h2 { font-size: 1.8em; }
    footer { max-width: 1200px; margin: 20px auto 0; padding: 20px 30px; }

    /* Dropdown adjustments for desktops */
    #menu-placeholder nav ul li .dropdown {
        min-width: 180px; /* Standard desktop dropdown width */
    }
}


/* === End of style.css === */